temp = {"node": {"attr0": {}}}
temp["node"]["attr0"] = {"banana": 1}
temp["node"]["attr1"] = {"apple": 2}
temp["node"]["attr1"]["attr2"] = { "chic": 2}
print temp["node"].values()[1].values()
print temp
temp1 = {'attr5': {'high': {'attr3': {'2': 'unacc', '4': {'attr0': {'high': {'attr1': {'high': 'acc', 'med': 'acc', 'vhigh': 'unacc', 'low': 'acc'}}, 'med': {'attr1': {'high': 'acc', 'med': {'attr4': {'small': 'acc', 'med': {'attr2': {'5more': 'vgood', '3': 'acc', '2': 'acc', '4': 'vgood'}}, 'big': 'vgood'}}, 'vhigh': 'acc', 'low': {'attr4': {'small': 'good', 'med': {'attr2': {'5more': 'vgood', '3': 'good', '2': 'good', '4': 'vgood'}}, 'big': 'vgood'}}}}, 'vhigh': {'attr1': {'high': 'unacc', 'med': 'acc', 'vhigh': 'unacc', 'low': 'acc'}}, 'low': {'attr1': {'high': {'attr4': {'small': 'acc', 'med': {'attr2': {'5more': 'vgood', '3': 'acc', '2': 'acc', '4': 'vgood'}}, 'big': 'vgood'}}, 'med': {'attr4': {'small': 'good', 'med': {'attr2': {'5more': 'vgood', '3': 'good', '2': 'good', '4': 'vgood'}}, 'big': 'vgood'}}, 'vhigh': 'acc', 'low': {'attr4': {'small': 'good', 'med': {'attr2': {'5more': 'vgood', '3': 'good', '2': 'good', '4': 'vgood'}}, 'big': 'vgood'}}}}}}, 'more': {'attr0': {'high': {'attr1': {'high': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'vhigh': 'unacc', 'low': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}}}, 'med': {'attr1': {'high': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'med': {'attr4': {'small': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'med': {'attr2': {'5more': 'vgood', '3': 'vgood', '2': 'acc', '4': 'vgood'}}, 'big': 'vgood'}}, 'vhigh': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'low': {'attr4': {'small': {'attr2': {'5more': 'good', '3': 'good', '2': 'unacc', '4': 'good'}}, 'med': {'attr2': {'5more': 'vgood', '3': 'vgood', '2': 'good', '4': 'vgood'}}, 'big': 'vgood'}}}}, 'vhigh': {'attr1': {'high': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'vhigh': 'unacc', 'low': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}}}, 'low': {'attr1': {'high': {'attr4': {'small': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'med': {'attr2': {'5more': 'vgood', '3': 'vgood', '2': 'acc', '4': 'vgood'}}, 'big': 'vgood'}}, 'med': {'attr4': {'small': {'attr2': {'5more': 'good', '3': 'good', '2': 'unacc', '4': 'good'}}, 'med': {'attr2': {'5more': 'vgood', '3': 'vgood', '2': 'good', '4': 'vgood'}}, 'big': 'vgood'}}, 'vhigh': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'low': {'attr4': {'small': {'attr2': {'5more': 'good', '3': 'good', '2': 'unacc', '4': 'good'}}, 'med': {'attr2': {'5more': 'vgood', '3': 'vgood', '2': 'good', '4': 'vgood'}}, 'big': 'vgood'}}}}}}}}, 'med': {'attr3': {'2': 'unacc', '4': {'attr0': {'high': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': {'attr1': {'high': 'acc', 'med': 'acc', 'vhigh': 'unacc', 'low': 'acc'}}, '3': 'unacc', '2': 'unacc', '4': {'attr1': {'high': 'acc', 'med': 'acc', 'vhigh': 'unacc', 'low': 'acc'}}}}, 'big': {'attr1': {'high': 'acc', 'med': 'acc', 'vhigh': 'unacc', 'low': 'acc'}}}}, 'med': {'attr1': {'high': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'unacc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'med': 'acc', 'vhigh': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'unacc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'low': {'attr4': {'small': 'acc', 'med': {'attr2': {'5more': 'good', '3': 'acc', '2': 'acc', '4': 'good'}}, 'big': 'good'}}}}, 'vhigh': {'attr1': {'high': 'unacc', 'med': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'unacc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'vhigh': 'unacc', 'low': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'unacc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}}}, 'low': {'attr1': {'high': 'acc', 'med': {'attr4': {'small': 'acc', 'med': {'attr2': {'5more': 'good', '3': 'acc', '2': 'acc', '4': 'good'}}, 'big': 'good'}}, 'vhigh': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'unacc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'low': {'attr4': {'small': 'acc', 'med': {'attr2': {'5more': 'good', '3': 'acc', '2': 'acc', '4': 'good'}}, 'big': 'good'}}}}}}, 'more': {'attr0': {'high': {'attr4': {'small': 'unacc', 'med': {'attr1': {'high': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'vhigh': 'unacc', 'low': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}}}, 'big': {'attr1': {'high': 'acc', 'med': 'acc', 'vhigh': 'unacc', 'low': 'acc'}}}}, 'med': {'attr1': {'high': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'vhigh': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'low': {'attr4': {'small': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'med': {'attr2': {'5more': 'good', '3': 'good', '2': 'acc', '4': 'good'}}, 'big': 'good'}}}}, 'vhigh': {'attr1': {'high': 'unacc', 'med': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'vhigh': 'unacc', 'low': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}}}, 'low': {'attr1': {'high': {'attr2': {'5more': 'acc', '3': 'acc', '2': {'attr4': {'small': 'unacc', 'med': 'acc', 'big': 'acc'}}, '4': 'acc'}}, 'med': {'attr4': {'small': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'med': {'attr2': {'5more': 'good', '3': 'good', '2': 'acc', '4': 'good'}}, 'big': 'good'}}, 'vhigh': {'attr4': {'small': 'unacc', 'med': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'big': 'acc'}}, 'low': {'attr4': {'small': {'attr2': {'5more': 'acc', '3': 'acc', '2': 'unacc', '4': 'acc'}}, 'med': {'attr2': {'5more': 'good', '3': 'good', '2': 'acc', '4': 'good'}}, 'big': 'good'}}}}}}}}, 'low': 'unacc'}}
#print temp1.items()
d = {'root': {'e': [None,
                'text',
                {'@name': 'value'},
                {'#text': 'text', '@name': 'value'},
                {'a': 'text', 'b': 'text'},
                {'a': ['text', 'text']},
                {'#text': 'text', 'a': 'text'}]}}
from xml.etree import cElementTree as ET
def dict_to_etree(d):
    def _to_etree(d, root):
        if not d:
            pass
        elif isinstance(d, str):
            root.text = d
        elif isinstance(d, dict):
            for k,v in d.items():
                assert isinstance(k, str)
                if k.startswith('#'):
                    assert k == '#text' and isinstance(v, str)
                    root.text = v
                elif k.startswith('@'):
                    assert isinstance(v, str)
                    root.set(k[1:], v)
                elif isinstance(v, list):
                    for e in v:
                        _to_etree(e, ET.SubElement(root, k))
                else:
                    _to_etree(v, ET.SubElement(root, k))
        else:
            assert d == 'invalid type', (type(d), d)
    assert isinstance(d, dict) and len(d) == 1
    tag, body = next(iter(d.items()))
    node = ET.Element(tag)
    _to_etree(body, node)
    return node

print(ET.tostring(dict_to_etree(d)))
"""
<best>
    <fruit>
            < apple> 2 </apple>
    </fruit>
</best>
"""
